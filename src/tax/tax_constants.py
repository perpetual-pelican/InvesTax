from collections import OrderedDict
from decimal import Decimal
from math import inf

TAX_YEAR = 2025

FILING_STATUS_CHOICES = []
FILING_STATUS_SINGLE = "SINGLE"
FILING_STATUS_MARRIED_SEPARATE = "MARRIED FILING SEPARATELY"
FILING_STATUS_MARRIED_JOINT = "MARRIED FILING JOINTLY"
FILING_STATUS_HEAD_OF_HOUSE = "HEAD OF HOUSEHOLD"
FILING_STATUS_CHOICES.append((FILING_STATUS_SINGLE, "Single"))
FILING_STATUS_CHOICES.append((FILING_STATUS_MARRIED_SEPARATE, "Married Filing Separately"))
FILING_STATUS_CHOICES.append((FILING_STATUS_MARRIED_JOINT, "Married Filing Jointly"))
FILING_STATUS_CHOICES.append((FILING_STATUS_HEAD_OF_HOUSE, "Head of Household"))

TAX_BRACKETS_BY_YEAR = dict()

# 2022 Tax Brackets
TAX_BRACKETS_BY_YEAR[2022] = OrderedDict()
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.10")] = 10275
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.12")] = 41775
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.22")] = 89075
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.24")] = 170050
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.32")] = 215950
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.35")] = 539900
TAX_BRACKETS_BY_YEAR[2022][Decimal("0.37")] = inf

# 2023 Tax Brackets
TAX_BRACKETS_BY_YEAR[2023] = OrderedDict()
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.10")] = 11000
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.12")] = 44725
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.22")] = 95375
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.24")] = 182100
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.32")] = 231250
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.35")] = 578125
TAX_BRACKETS_BY_YEAR[2023][Decimal("0.37")] = inf

# 2024 Tax Brackets
TAX_BRACKETS_BY_YEAR[2024] = OrderedDict()
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.10")] = 11600
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.12")] = 47150
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.22")] = 100525
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.24")] = 191950
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.32")] = 243725
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.35")] = 609350
TAX_BRACKETS_BY_YEAR[2024][Decimal("0.37")] = inf

# 2025 Tax Brackets
TAX_BRACKETS_BY_YEAR[2025] = OrderedDict()
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.10")] = 11925
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.12")] = 48475
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.22")] = 103350
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.24")] = 197300
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.32")] = 250525
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.35")] = 626350
TAX_BRACKETS_BY_YEAR[2025][Decimal("0.37")] = inf


STANDARD_DEDUCTION_BY_YEAR = dict()

STANDARD_DEDUCTION_BY_YEAR[2022] = dict()
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_SINGLE] = 12950
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_MARRIED_SEPARATE] = 12950
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_MARRIED_JOINT] = 12950  # need update
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_HEAD_OF_HOUSE] = 12950  # need update

STANDARD_DEDUCTION_BY_YEAR[2022] = dict()
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_SINGLE] = 12950  # need update
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_MARRIED_SEPARATE] = 12950  # need update
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_MARRIED_JOINT] = 12950  # need update
STANDARD_DEDUCTION_BY_YEAR[2022][FILING_STATUS_HEAD_OF_HOUSE] = 12950  # need update

STANDARD_DEDUCTION_BY_YEAR[2024] = dict()
STANDARD_DEDUCTION_BY_YEAR[2024][FILING_STATUS_SINGLE] = 14600
STANDARD_DEDUCTION_BY_YEAR[2024][FILING_STATUS_MARRIED_SEPARATE] = 14600
STANDARD_DEDUCTION_BY_YEAR[2024][FILING_STATUS_MARRIED_JOINT] = 29200
STANDARD_DEDUCTION_BY_YEAR[2024][FILING_STATUS_HEAD_OF_HOUSE] = 21900

STANDARD_DEDUCTION_BY_YEAR[2025] = dict()
STANDARD_DEDUCTION_BY_YEAR[2025][FILING_STATUS_SINGLE] = 15000
STANDARD_DEDUCTION_BY_YEAR[2025][FILING_STATUS_MARRIED_SEPARATE] = 15000
STANDARD_DEDUCTION_BY_YEAR[2025][FILING_STATUS_MARRIED_JOINT] = 30000
STANDARD_DEDUCTION_BY_YEAR[2025][FILING_STATUS_HEAD_OF_HOUSE] = 22500


SOCIAL_SECURITY_TAX_RATE_BY_YEAR = dict()
SOCIAL_SECURITY_TAX_RATE_BY_YEAR[2022] = Decimal("0.062")
SOCIAL_SECURITY_TAX_RATE_BY_YEAR[2023] = Decimal("0.062")
SOCIAL_SECURITY_TAX_RATE_BY_YEAR[2024] = Decimal("0.062")
SOCIAL_SECURITY_TAX_RATE_BY_YEAR[2025] = Decimal("0.062")


# currently have tax rates only for employee/employer - need to add for self-employed (2.9%)
# additional 0.9% for income over 200,000 (single) or 250,000 (married filing jointly)
MEDICARE_TAX_RATE_BY_YEAR = dict()
MEDICARE_TAX_RATE_BY_YEAR[2022] = Decimal("0.0145")
MEDICARE_TAX_RATE_BY_YEAR[2023] = Decimal("0.0145")
MEDICARE_TAX_RATE_BY_YEAR[2024] = Decimal("0.0145")
MEDICARE_TAX_RATE_BY_YEAR[2025] = Decimal("0.0145")


# personal exemption is 0 as of 2017
PERSONAL_EXEMPTION = dict()
PERSONAL_EXEMPTION[2022] = 0
PERSONAL_EXEMPTION[2023] = 0
PERSONAL_EXEMPTION[2024] = 0
PERSONAL_EXEMPTION[2025] = 0


IL_TAX_RATE = Decimal("0.0495")
